Title,Body,Labels,Milestone
"Draft OpenAPI v1 for Patient Demographics","Create initial OpenAPI v3 spec covering endpoints in Phase 1: create/read/update/delete/list, restore, health/readiness, error schema.\nDeliverables:\n- docs/openapi.yaml with schemas and examples.\n- Validation constraints noted (email, phone, DOB).\nEstimate: 1d","area/api,area/docs,pri/P1,size/1d","Phase 1 — Spec & Design"
"Define DB schema (Patient, Idempotency, AuditLog)","Design SQL schema with types, constraints, indexes for search fields.\nDeliverables:\n- db/schema.sql draft or migration(s).\n- Notes on nullable-unique for email/phone and soft delete.\nEstimate: 1d","area/db,area/docs,pri/P1,size/1d","Phase 1 — Spec & Design"
"Local Docker Compose for Postgres","Spin up local Postgres via Docker Compose with a named volume, network, and healthcheck.\nDeliverables:\n- docker-compose.yml (postgres service).\n- .env.example with DB params.\nEstimate: 0.5d","env/local,area/infra,pri/P1,size/0.5d","Phase 1 — Local Dev"
"Set up Alembic migrations (Python)","Initialize Alembic for versioned migrations aligned with the schema.\nDeliverables:\n- Alembic config + first empty migration.\n- Makefile/README notes to run migrations.\nEstimate: 0.5d","area/db,env/local,tech/python,pri/P1,size/0.5d","Phase 1 — Local Dev"
"Backend scaffold: FastAPI","Create minimal FastAPI app with config loader, routing skeleton, and logging config.\nDeliverables:\n- src/app main module, dependencies, run instructions.\n- Basic /healthz and /readyz returning 200.\nEstimate: 1d","area/api,tech/python,env/local,pri/P1,size/1d","Phase 1 — Local Dev"
"Implement validation utilities (names, email, phone, DOB)","Implement reusable validators and normalizers (lowercase email, E.164 phone).\nDeliverables:\n- Validation module + unit tests.\nEstimate: 1d","area/api,area/db,env/local,pri/P1,size/1d","Phase 1 — API MVP"
"Create Patient (POST /api/v1/patients) with idempotency","Add endpoint to create Patient; store idempotency key and return stable patient_id.\nDeliverables:\n- Endpoint + service + repo logic.\n- Unit/integration tests.\nEstimate: 1–2d","area/api,area/db,env/local,pri/P1,size/2d","Phase 1 — API MVP"
"Get Patient by ID (GET /api/v1/patients/{id})","Fetch a Patient by ID, exclude soft-deleted by default.\nDeliverables:\n- Endpoint + repo method + tests.\nEstimate: 0.5–1d","area/api,area/db,env/local,pri/P1,size/1d","Phase 1 — API MVP"
"Update Patient (PUT /api/v1/patients/{id}) with ETag","Implement optimistic concurrency using ETag/If-Match; 412 on mismatch.\nDeliverables:\n- Endpoint + version bump logic + tests.\nEstimate: 1–2d","area/api,area/db,env/local,pri/P1,size/2d","Phase 1 — API MVP"
"Soft delete Patient (DELETE /api/v1/patients/{id})","Mark Patient as deleted; do not hard-delete.\nDeliverables:\n- Endpoint + repo update + tests.\nEstimate: 0.5d","area/api,area/db,env/local,pri/P1,size/0.5d","Phase 1 — API MVP"
"Restore Patient (POST /api/v1/patients/{id}:restore)","Restore a soft-deleted Patient; return 200 with resource.\nDeliverables:\n- Endpoint + tests.\nEstimate: 0.5d","area/api,env/local,pri/P2,size/0.5d","Phase 1 — API MVP"
"List Patients with filters + pagination","Filter by family_name, dob, email, phone; paginate (limit + cursor/offset).\nDeliverables:\n- Endpoint + indexes + tests.\nEstimate: 1–2d","area/api,area/db,env/local,pri/P2,size/2d","Phase 1 — API MVP"
"Error model and handler","Return consistent JSON errors {code, message, details?}; map common exceptions.\nDeliverables:\n- Error handler + tests.\nEstimate: 0.5d","area/api,env/local,pri/P1,size/0.5d","Phase 1 — API MVP"
"Structured JSON logging (no PHI)","Add request/response logging with correlation IDs; redact PII fields.\nDeliverables:\n- Logging middleware/config + sample logs.\nEstimate: 0.5–1d","area/observability,env/local,pri/P2,size/1d","Phase 1 — API MVP"
"Health and readiness probes","Implement /healthz and /readyz with DB connectivity checks in readiness.\nDeliverables:\n- Endpoints + docs.\nEstimate: 0.5d","area/observability,env/local,pri/P1,size/0.5d","Phase 1 — API MVP"
"API key auth (prototype)","Protect API with x-api-key header; simple key store via env var for local.\nDeliverables:\n- Middleware + tests + docs.\nEstimate: 0.5–1d","area/security,area/api,env/local,pri/P1,size/1d","Phase 1 — API MVP"
"Unit tests: idempotency + ETag","Add focused unit tests for idempotent POST and ETag handling.\nDeliverables:\n- Test cases + CI passing.\nEstimate: 0.5–1d","area/testing,env/local,pri/P1,size/1d","Phase 1 — QA & Docs"
"Integration tests with Postgres (Docker)","Spin up Postgres in tests (or reuse Compose) and run API integration tests.\nDeliverables:\n- Test harness + sample scenarios.\nEstimate: 1d","area/testing,area/db,env/local,pri/P1,size/1d","Phase 1 — QA & Docs"
"Postman collection (or REST client) for API","Create a collection/scripts for all endpoints with example payloads.\nDeliverables:\n- Postman collection or .http files under docs/.\nEstimate: 0.5d","area/docs,area/testing,pri/P2,size/0.5d","Phase 1 — QA & Docs"
"k6 smoke test script","Create a light k6 script to exercise CRUD endpoints at low RPS with p95 assertions.\nDeliverables:\n- k6 script + README.\nEstimate: 0.5–1d","area/testing,area/observability,pri/P2,size/1d","Phase 1 — QA & Docs"
"GitHub Actions: CI (lint + test)","Add CI workflow to run linting and tests on PRs and main.\nDeliverables:\n- .github/workflows/ci.yml.\nEstimate: 0.5–1d","area/ci-cd,env/local,pri/P1,size/1d","Phase 1 — QA & Docs"
"Terraform modules skeleton (network, db, app, secrets, observability)","Create module directories and placeholder variables/outputs. No cloud apply yet.\nDeliverables:\n- infra/terraform/modules/* skeletons.\nEstimate: 1d","area/infra,env/aws,pri/P2,size/1d","Phase 1 — AWS Dev (optional)"
"AWS dev: API Gateway + Lambda (FastAPI via Mangum) + RDS design","Author Terraform for HTTP API, Lambda (zip) with Mangum adapter, VPC (no NAT), and RDS Free Tier. Do not apply.\nDeliverables:\n- infra/terraform/envs/dev placeholders + README with cost notes.\nEstimate: 1–2d","area/infra,env/aws,tech/python,pri/P2,size/2d","Phase 1 — AWS Dev (optional)"
"Cost guardrails doc (AWS)","Document cost traps (ALB, NAT, data transfer) and how the design avoids them.\nDeliverables:\n- docs/cost-guardrails-aws.md.\nEstimate: 0.5d","area/docs,env/aws,pri/P2,size/0.5d","Phase 1 — AWS Dev (optional)"
"README updates and runbooks (deploy/rollback)","Update README with local run instructions; add minimal runbooks for deploy/rollback and DB restore notes.\nDeliverables:\n- README + docs/runbooks/*.md.\nEstimate: 1d","area/docs,pri/P1,size/1d","Phase 1 — QA & Docs"
